{% extends "base_join.html" %}
{% load staticfiles %}
{% block head_title %}Join{% endblock %}
{% block extra_head %}
<script>
if (typeof GC === "undefined") {
    var GC = {};
}
GC.locations = {{ locations|safe }}
</script>
{% endblock %}
{% block menu %}{% endblock %}
{% block content %}
    <div class="row">
      <h3 class="font-text">Where do you want to collect your bag from?</h3>

      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />

      <script src="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>

      <div id="collection-map" style="height:450px;width:600px;">

      </div>

      {% if form.non_form_errors or form.errors %}
      <div id="errors" class="callout alert errors">
      {{ form.non_form_errors }}
      {{ form.errors }}
      </div>
      {% endif %}






      <form action="{% url 'join_collection_point' %}" method="post">
        {% csrf_token %}
        <fieldset class="columns collection-points">
          <legend>Choose one collection point</legend>
          <ul class="row">
          {% for radio in form.collection_point %}
            <li class="column">
              {{ radio.tag }}
              <label for="{{ radio.id_for_label }}">
                  {{ radio.choice_label }}
              </label>
            </li>
          {% endfor %}
          </ul>
        </fieldset>
        <div class="column">
          <div class="row">
            <div class="action-group">
              <input type="submit" class="button font-display primary large" value="Next">
              {# <h4><a href="#" class="">back</a></h4> #}
            </div>
          </div>
        </div>
      </form>
    </div>
{% endblock %}
{% block extra_body %}
{% endblock %}

{% block extra_scripts %}
  <script src="{% static 'blueworld/collection-map.js' %}" charset="utf-8"></script>
{% endblock %}
